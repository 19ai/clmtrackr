<!doctype html>
<html lang="en">
	<head>
		<title>Constrained Local Models</title>
		<meta charset="utf-8">
		<style>
			body {
				font-family: Monospace;
				background-color: #f0f0f0;
				margin: 0px;
				overflow: hidden;
			}
			
			#overlay {
			  position: absolute;
			  top: 0px;
			  left: 0px;
			}
			
			#sketch {
			  display: none;
			}
		</style>
	</head>
	<body>
		<script src="./js/goog/base.js"></script>
		<script src="./js/goog/error.js"></script>
		<script src="./js/goog/string.js"></script>
		<script src="./js/goog/asserts.js"></script>
		<script src="./js/goog/array.js"></script>
		<script src="./js/goog/size.js"></script>
		<script src="./js/goog/math.js"></script>
		<script src="./js/goog/matrix.js"></script>
		<script src="./js/normProbs_small.js"></script>
		<script src="./js/smallmodel.js"></script>
		<script src="./js/webgl-utils.js"></script>
		<script src="./js/clm.js"></script>
		<script src="./js/ccv.js"></script>
		<script src="./js/cascade.js"></script>
		<script src="./js/filter.js"></script>
		<script src="./js/Stats.js"></script>
		<div id="container"></div>
		<video id="videoel" width="370" height="288">
      <source src="./media/franck.ogv" type="video/ogg"/>
		</video>
		<canvas id="overlay" width="370" height="288"></canvas>
		<canvas id="filter"></canvas>
		<canvas id="sketch" width="138" height="138"></canvas>
		<input type="button" value="start" onclick="start()"></input>
		
		<script>
		   var skcc = document.getElementById('sketch');
		   
		   var overlay = document.getElementById('overlay');
		   overlay.style = "position:absolute";
		   
		   var ctrack = new clm.tracker({'constantVelocity' : false});
		   ctrack.init(skcc);
		   
		   stats = new Stats();
			 stats.domElement.style.position = 'absolute';
			 stats.domElement.style.top = '0px';
			 document.getElementById('container').appendChild( stats.domElement );
		   
		   function start() {
         //start video
         var vid = document.getElementById('videoel');
         vid.play();
         
         //start tracking
         animate();
		   }
		   
		   function animate() {
         ctrack.track(document.getElementById('videoel'));
         stats.update();
         requestAnimFrame(animate);
		   }
		</script>
	</body>
</html>
